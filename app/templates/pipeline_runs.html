{% if runs|length > 0 %}
<div class="overflow-hidden bg-white shadow sm:rounded-md">
    <ul role="list" class="divide-y divide-gray-200">
        {% for run in runs|reverse %}
        <li>
            <div class="px-4 py-4 sm:px-6">
                <div class="flex items-center justify-between">
                    <p class="truncate text-sm font-medium text-green-600">Run #{{ run.id }}</p>
                    <div class="ml-2 flex flex-shrink-0">
                        <p class="inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800">
                            {{ run.status }}
                        </p>
                    </div>
                </div>
                <div class="mt-2 sm:flex sm:justify-between">
                    <div class="sm:flex">
                        <p class="flex items-center text-sm text-gray-500">
                            Started: {{ run.started_at }}
                        </p>
                        <p class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6">
                            Completed: {{ run.completed_at or "N/A" }}
                        </p>
                    </div>
                    <div class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0">
                        <button hx-get="/pipeline/runs/{{ run.id }}/logs" hx-target="#modal-content" hx-swap="innerHTML" onclick="showModal()"
                            class="font-medium text-green-600 hover:text-green-500">
                            View Logs
                        </button>
                    </div>
                </div>
                <div class="mt-2">
                    <div class="flex flex-wrap gap-2">
                        {% for step in run.steps_to_execute %}
                        <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800">
                            {{ step }}
                        </span>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </li>
        {% endfor %}
    </ul>
</div>
{% else %}
<div class="text-center py-12">
    <i class="fas fa-project-diagram text-gray-400 text-4xl mb-4"></i>
    <h3 class="mt-2 text-sm font-medium text-gray-900">No pipeline runs</h3>
    <p class="mt-1 text-sm text-gray-500">
        Execute a pipeline to see runs here.
    </p>
</div>
{% endif %}